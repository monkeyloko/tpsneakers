<!doctype html>
<html lang="en">


<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<title>Carrito</title>

<body class="bodyResp">
        
        <div class="container-xxl">
                <div class="cuerpoFin" style="margin-top:2%;">
                        <table class="table bg-light">
                                <thead>
                                        <tr>
                                                <th scope="col">Nombre</th>
                                                <th scope="col">Precio</th>
                                                <th scope="col">Cantidad</th>
                                                <th scope="col">Eliminar del carrito</th>
                                        </tr>
                                </thead>
                                @{
                                        bool found;
                                        float precioT = 0;
                                        for(int i = 0; i < ViewBag.Carrito.Count; i++)
                                        {
                                                precioT += ViewBag.Carrito[i].Precio;
                                                found = false;
                                                
                                                int j = i+1;
                                                while(j<ViewBag.Carrito.Count && found == false){
                                                        if(ViewBag.Carrito[i].ID_Producto == ViewBag.Carrito[j].ID_Producto){
                                                                found = true;         
                                                        }
                                                        j++;
                                                }
                                                int k = i;
                                                int cant = 1;
                                                if(found == false){
                                                        while(k != 0){
                                                                k--;
                                                                if(ViewBag.Carrito[i].ID_Producto == ViewBag.Carrito[k].ID_Producto){
                                                                       cant++; 
                                                                }
                                                        }
                                                        <tbody>
                                                        <tr>

                                                                <td>@ViewBag.Carrito[i].Nombre</td>
                                                                <td>$@ViewBag.Carrito[i].Precio</td>
                                                                <td>X @cant</td>
                                                                <td> <a href='@Url.Action("EliminarUsuarioxProducto", "Home", new{IDPRODUCTO=@ViewBag.Carrito[i].ID_Producto})'
                                                                        class="btn mb">x</a></td>
                                                        </tr>
                                                        </tbody>
                                                }
                                               
                                                
                                        }
                                }
                                
                        </table >
                        <table class ="table bg-light">
                                <thead><tr><th><p style="text-align:center;">total</p></th></tr></thead>
                             <tbody><tr><td><p style="text-align:center;">$@precioT</p></td></tr></tbody>     
                        </table>
                      


                </div>
                <div ><a href='@Url.Action("Marcas","Home")' class="botonVolver">Volver al incio</a></div>


        </div>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
                integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
                crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
                integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
                crossorigin="anonymous"></script>
</body>

</html>
